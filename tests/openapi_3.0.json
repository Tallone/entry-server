{"openapi":"3.0.1","info":{"title":"Entry Server","description":"This project aims to provide independent developers with ready-to-use server functionalities, including Users, License, Text data synchronization etc. 该项目提供给那些独立开发者开箱即用的服务端功能，包括用户管理、许可证和文本数据同步功能等","version":"1.0.0"},"tags":[],"paths":{"/api/v1/user/login":{"post":{"summary":"Login","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"example":{"email":"entry_x@entry.com","password":"122333"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"string","nullable":true}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":"0ce41563525e3a9462d787499c895f4f"}}}}}}},"security":[]}},"/api/v1/sync":{"post":{"summary":"Save","deprecated":false,"description":"Save user's data","tags":[],"parameters":[{"name":"token","in":"header","description":"","required":true,"example":"0ce41563525e3a9462d787499c895f4f","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string"}},"required":["content"]},"example":{"content":"Suscipit unde totam ratione delectus veniam a. Explicabo eligendi cumque perspiciatis tenetur quisquam consequatur totam ea. Eum doloribus magnam accusantium provident voluptate ex."}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Synchronize"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":{"user_id":"b9508995-4aa1-4633-afb1-b9baa4ed8670","version":1,"content":"Suscipit unde totam ratione delectus veniam a. Explicabo eligendi cumque perspiciatis tenetur quisquam consequatur totam ea. Eum doloribus magnam accusantium provident voluptate ex.","created_at":1712483701988,"updated_at":1712483701988}}}}}}}},"security":[]},"delete":{"summary":"Clear","deprecated":false,"description":"Clear user data, and version will +1","tags":[],"parameters":[{"name":"token","in":"header","description":"","required":true,"example":"0ce41563525e3a9462d787499c895f4f","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{}},"example":{}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"boolean"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":true}}}}}}},"security":[]},"get":{"summary":"Current","deprecated":false,"description":"Get current login user synchronize data","tags":[],"parameters":[{"name":"token","in":"header","description":"","required":true,"example":"{{token}}","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Synchronize"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":{"user_id":"b9508995-4aa1-4633-afb1-b9baa4ed8670","version":1,"content":"Suscipit unde totam ratione delectus veniam a. Explicabo eligendi cumque perspiciatis tenetur quisquam consequatur totam ea. Eum doloribus magnam accusantium provident voluptate ex.","created_at":1712483701988,"updated_at":1712483701988}}}}}}}},"security":[]}},"/api/v1/user":{"post":{"summary":"Create","deprecated":false,"description":"","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"name":{"type":"string"}},"required":["email","password","name"]},"example":{"email":"entry_x@entry.com","password":"122333","name":"entry"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Model"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":{"id":"028a5ae1-7b2d-45e4-a6e7-55459815d838","name":"entry","email":"entry_x@entryy.com","state":0,"created_at":1712481713098,"updated_at":1712481713098}}}}}}}},"security":[]},"get":{"summary":"Current","deprecated":false,"description":"","tags":[],"parameters":[{"name":"token","in":"header","description":"","required":true,"example":"{{token}}","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/Model"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":{"id":"b9508995-4aa1-4633-afb1-b9baa4ed8670","name":"entry","email":"entry_x@entry.com","state":0,"created_at":1712470531564,"updated_at":1712470531564}}}}}}}},"security":[]}},"/api/v1/license/{license}":{"get":{"summary":"Check","deprecated":false,"description":"Get special license of current login user","tags":[],"parameters":[{"name":"license","in":"path","description":"","required":true,"example":"test_license","schema":{"type":"string"}},{"name":"token","in":"header","description":"","required":true,"example":"{{token}}","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/License"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":{"user_id":"b9508995-4aa1-4633-afb1-b9baa4ed8670","version":1,"content":"Suscipit unde totam ratione delectus veniam a. Explicabo eligendi cumque perspiciatis tenetur quisquam consequatur totam ea. Eum doloribus magnam accusantium provident voluptate ex.","created_at":1712483701988,"updated_at":1712483701988}}},"2":{"summary":"Success","value":{"code":0,"message":"ok","data":{"id":2,"key":"test_license","expired_at":1712560923891,"created_at":1712471599345,"updated_at":1712471599345,"is_used":true,"duration":86400}}}}}}}},"security":[]},"post":{"summary":"Active","deprecated":false,"description":"Active a license with current login user","tags":[],"parameters":[{"name":"license","in":"path","description":"","required":true,"example":"test_license","schema":{"type":"string"}},{"name":"token","in":"header","description":"","required":true,"example":"{{token}}","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"device_id":{"type":"string"}}},"example":{"device_id":"cillum voluptate"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/License"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":{"user_id":"b9508995-4aa1-4633-afb1-b9baa4ed8670","version":1,"content":"Suscipit unde totam ratione delectus veniam a. Explicabo eligendi cumque perspiciatis tenetur quisquam consequatur totam ea. Eum doloribus magnam accusantium provident voluptate ex.","created_at":1712483701988,"updated_at":1712483701988}}},"2":{"summary":"Success","value":{"code":0,"message":"ok","data":{"id":2,"key":"test_license","expired_at":1712560923891,"created_at":1712471599345,"updated_at":1712471599345,"is_used":true,"duration":86400}}},"3":{"summary":"Exception","value":{"code":4300,"message":"This license is not valid","data":null}},"4":{"summary":"Success","value":{"code":0,"message":"ok","data":{"id":2,"key":"test_license","expired_at":1712654769562,"created_at":1712471599345,"updated_at":1712471599345,"is_used":true,"duration":86400}}}}}}}},"security":[]}},"/api/v1/user/password":{"patch":{"summary":"Update Password","deprecated":false,"description":"Update current user login password, when user not set before, keep `old_password` none","tags":[],"parameters":[{"name":"token","in":"header","description":"","required":true,"example":"0ce41563525e3a9462d787499c895f4f","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"old_password":{"type":"string"},"new_password":{"type":"string"}},"required":["new_password"]},"example":{"old_password":"122333","new_password":"122333"}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"null"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":null}}}}}}},"security":[]}},"/api/v1/user/oauth/github":{"get":{"summary":"OAuth Github Url","deprecated":false,"description":"Get Github OAuth authorize url. Before using this api, should setup Github OAuth app first","tags":[],"parameters":[{"name":"redirect_url","in":"query","description":"This url should configed at Github OAuth app callback url","required":true,"example":"http://localhost:3000/api/v1/user/oauth","schema":{"type":"string","format":"uri"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"string"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":"https://github.com/login/oauth/authorize?client_id=59f9ce7974f210f7bb7a&redirect_url=http%3A%2F%2Flocalhost%3A3000%2Fapi%2Fv1%2Fuser%2Foauth&scope=user&state=70382044-9df1-4be9-89a2-7c2134ccf220"}}}}}}},"security":[]},"post":{"summary":"OAuth Login or Signup","deprecated":false,"description":"Using OAuth data to login or signup, will directly return token","tags":[],"parameters":[],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"state":{"type":"string"},"code":{"type":"string"}},"required":["state","code"]},"example":{"state":"70382044-9df1-4be9-89a2-7c2134ccf220","code":"941708fdc2d6e558683b"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer"},"message":{"type":"string"},"data":{"type":"string"}},"required":["code","message","data"]},"examples":{"1":{"summary":"Success","value":{"code":0,"message":"ok","data":"0ce41563525e3a9462d787499c895f4f"}}}}}}},"security":[]}}},"components":{"schemas":{"License":{"type":"object","properties":{"id":{"type":"integer"},"key":{"type":"string"},"expired_at":{"type":"integer"},"created_at":{"type":"integer"},"updated_at":{"type":"integer"},"is_used":{"type":"boolean"},"duration":{"type":"integer"}},"required":["id","key","expired_at","created_at","updated_at","is_used","duration"]},"Synchronize":{"type":"object","properties":{"user_id":{"type":"string"},"version":{"type":"integer"},"content":{"type":"string"},"created_at":{"type":"integer"},"updated_at":{"type":"integer"}},"required":["user_id","version","content","created_at","updated_at"]},"Model":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"state":{"type":"integer"},"created_at":{"type":"integer"},"updated_at":{"type":"integer"}},"required":["id","name","email","state","created_at","updated_at"]}},"securitySchemes":{}},"servers":[{"url":"http://127.0.0.1:3000","description":"Testing Env"}]}